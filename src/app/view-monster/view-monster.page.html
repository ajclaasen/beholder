<ion-header>
  <ion-toolbar>
    <ion-title>
      <span *ngIf="monster$ | async as monster; else loadingOrErrorTitle">
        {{monster?.name}}
      </span>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div *ngIf="monster$ | async as monster; else loadingOrErrorContent" class="stat-block">
    <vellum-monster
      class="official"
      name="{{monster?.name}}"
      size="{{monster?.size}}"
      type="{{monster?.type}}"
      alignment="{{monster?.alignment}}"
      ac="{{monster?.armorClass}}"
      armor="{{monster?.armorSource}}"
      hp="{{monster?.hitPointsAndDice}}"
      speeds='{{monster?.speed}}'
      cr="{{monster?.challenge}}"

      str="{{monster?.strength}}"
      dex="{{monster?.dexterity}}"
      con="{{monster?.constitution}}"
      int="{{monster?.intelligence}}"
      wis="{{monster?.wisdom}}"
      cha="{{monster?.charisma}}"

      saving-throws="{{monster?.savingThrows}}"
      skills="{{monster?.skills}}"
      vulnerabilities="{{monster?.damageVulnerabilities}}"
      resistances="{{monster?.damageResistances}}"
      immunities="{{monster?.damageImmunities}}"
      condition-immunities="{{monster?.conditionImmunities}}"
      languages="{{monster?.languages}}"

      senses="{{monster?.senses}}"
      [traits]="monster?.traits"
      [actions]="monster?.actions"
      [reactions]="monster?.reactions"
    ></vellum-monster>
  </div>
</ion-content>

<ng-template #loadingOrErrorTitle>
  <span *ngIf="errorObject$; else loading">
    {{ errorObject$.statusText }}
  </span>
</ng-template>
<ng-template #loadingOrErrorContent>
  <div *ngIf="errorObject$">
    {{ errorObject$.message }}
  </div>
</ng-template>
<ng-template #loading>
  Loading...
</ng-template>